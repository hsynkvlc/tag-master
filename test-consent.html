<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consent Mode Test Page</title>
</head>

<body>
    <h1>Consent Mode V2 Test Page</h1>
    <p>This page has basic Consent Mode implementation for testing.</p>

    <button onclick="grantConsent()">Grant All Consent</button>
    <button onclick="denyConsent()">Deny All Consent</button>

    <script>
        // Initialize dataLayer
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }

        // Set default consent to 'denied' (blocking mode)
        gtag('consent', 'default', {
            'ad_storage': 'denied',
            'analytics_storage': 'denied',
            'ad_user_data': 'denied',
            'ad_personalization': 'denied',
            'wait_for_update': 500
        });

        console.log('Consent Mode initialized with default: denied');

        function grantConsent() {
            gtag('consent', 'update', {
                'ad_storage': 'granted',
                'analytics_storage': 'granted',
                'ad_user_data': 'granted',
                'ad_personalization': 'granted'
            });
            console.log('Consent granted!');
            alert('Consent granted! Check Swiss Knife Consent tab.');
        }

        function denyConsent() {
            gtag('consent', 'update', {
                'ad_storage': 'denied',
                'analytics_storage': 'denied',
                'ad_user_data': 'denied',
                'ad_personalization': 'denied'
            });
            console.log('Consent denied!');
            alert('Consent denied! Check Swiss Knife Consent tab.');
        }
    </script>

    <!-- Google Tag Manager (optional, for more realistic testing) -->
    <script>
        // Uncomment to load real GTM
        // (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        // new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        // j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        // 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        // })(window,document,'script','dataLayer','GTM-XXXXXXX');
    </script>
</body>

</html>